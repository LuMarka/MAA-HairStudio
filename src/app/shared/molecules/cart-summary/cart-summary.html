<!-- Resumen de Compra - Columna derecha -->
<div class="order-summary-section">
  <div class="order-summary-card">
    <h3 class="card-title">
      <span class="card-icon">üõí</span>
      Resumen del Pedido
    </h3>

    <!-- Productos -->
    @if (hasCartItems()) {
      <div class="order-items">
        @for (item of cartItems(); track item.id) {
          <div class="order-item">
            <div class="item-info">
              <p class="item-name">{{ item.name }}</p>
              @if (item.brand) {
                <span class="item-brand">{{ item.brand }}</span>
              }
            </div>
            <span class="item-quantity">x{{ item.quantity }}</span>
            <span class="item-total">{{ (item.price * item.quantity) | currency:'ARS':'symbol-narrow':'1.2-2' }}</span>
          </div>
        }
      </div>
    } @else {
      <div class="order-items order-items--empty">
        <p class="order-empty-message">No hay productos en el carrito</p>
      </div>
    }

    <!-- Totales -->
    <div class="order-totals">
      <div class="total-line">
        <span>Subtotal:</span>
        <span>{{ subtotal() / 1.21 | currency:'ARS':'symbol-narrow':'1.2-2' }}</span>
      </div>
      <div class="total-line">
        <span>Env√≠o:</span>
        <span>{{ shippingText() }}</span>
      </div>
      <div class="total-line">
        <span>IVA (21%):</span>
        <span>{{ ivaAmount() | currency:'ARS':'symbol-narrow':'1.2-2' }}</span>
      </div>
      <div class="total-line total-line--final">
        <span>Total:</span>
        <span>{{ totalWithIva() | currency:'ARS':'symbol-narrow':'1.2-2' }}</span>
      </div>
    </div>

    <!-- Informaci√≥n de Entrega -->
    <div class="delivery-info">
      <div class="delivery-info__item">
        <span class="delivery-info__label">Modalidad:</span>
        <span class="delivery-info__value">{{ deliveryOptionText() }}</span>
      </div>
      <div class="delivery-info__item">
        <span class="delivery-info__label">{{ deliveryTimeLabel() }}</span>
        <span class="delivery-info__value">{{ deliveryTimeText() }}</span>
      </div>
    </div>

    <!-- M√©todo de Pago (solo si est√° seleccionado) -->
    @if (hasPaymentMethod()) {
      <div class="payment-selected">
        <span class="payment-selected__icon">üíµ</span>
        <div class="payment-selected__content">
          <span class="payment-selected__label">M√©todo de pago</span>
          <span class="payment-selected__value">{{ selectedPaymentMethodText() }}</span>
        </div>
      </div>
    }

    <!-- Estado de Validaci√≥n -->
    @if (shouldShowValidation()) {
      <div class="validation-status">
        @if (isFormValid()) {
          <div class="validation-status__success">
            <span class="validation-status__icon">‚úÖ</span>
            <span class="validation-status__text">{{ validationMessage() }}</span>
          </div>
        } @else {
          <div class="validation-status__pending">
            <span class="validation-status__icon">‚ö†Ô∏è</span>
            <span class="validation-status__text">{{ validationMessage() }}</span>
          </div>
        }
      </div>
    }
  </div>
</div>