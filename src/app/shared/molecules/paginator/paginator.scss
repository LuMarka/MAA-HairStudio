@use '../../../../assets/styles/variables' as v;
@use '../../../../assets/styles/mixins' as m;


/* --- Variables locales (específicas de este componente) --- */
$btn-size-mobile: 2.25rem; // 36px
$btn-size-desktop: 2.5rem;  // 40px

/* --- 1. Contenedor Wrapper (NUEVO) --- */
.pagination-wrapper {
  display: flex;
  flex-direction: column; // Mobile-first: apilado
  align-items: center;   // Centrado en móvil
  gap: v.$spacing-lg; // 24px
  margin: v.$spacing-xl;// 32px

  // Usa mixin para desktop
  @include m.desktop-up() {
    flex-direction: row;
    justify-content: space-between;
  }
}

/* --- 2. Bloque: Paginación (Nav) --- */
.pagination {
  display: flex;
  flex-direction: column; // Mobile-first: apilado
  align-items: center;
  gap: v.$spacing-md; // 16px
  width: 100%;




  // Usa mixin para tablet
  @include m.tablet-up() {
    flex-direction: row;
    justify-content: space-between;
  }

  // Usa mixin para desktop
  @include m.desktop-up() {
    width: auto;
    flex-grow: 1;
  }
}

/* --- Elementos de Paginación --- */
.pagination__info {
  text-align: center;

  @include m.tablet-up() {
    text-align: left;
    white-space: nowrap;
  }
}

.pagination__summary {
  font-size: v.$font-size-sm; // 14px
  color: v.color(text-muted);
  font-weight: 500;
}

.pagination__controls {
  display: flex;
  flex-wrap: wrap; // Mobile-first: permite que los números bajen
  justify-content: center;
  gap: v.$spacing-xs; // 4px
}

.pagination__numbers {
  display: flex;
  align-items: center;
  gap: v.$spacing-xs; // 4px

  /* En móvil, los números saltan de línea y van al centro */
  flex-basis: 100%;
  justify-content: center;
  margin: v.$spacing-sm 0; // 8px
  order: 1; // Fuerza a los números a ir debajo de [Prev] [Next]

  /* En tablet, vuelve a la línea */
  @include m.tablet-up() {
    flex-basis: auto;
    margin: 0 v.$spacing-sm;
    order: 0; // Vuelve al orden normal del DOM
  }
}

.pagination__btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  height: $btn-size-mobile;
  min-width: $btn-size-mobile;
  padding: v.$spacing-xs; // 4px
  border: 1px solid v.color(green-200);
  background: v.color(surface); // #FFFFFF
  color: v.color(text-dark); // #1F2937
  font-size: v.$font-size-sm; // 14px
  font-weight: 500;
  border-radius: v.$borderRadius; // 12px
  cursor: pointer;
  transition: all v.$transitionDuration;
  user-select: none;

  [class^="icon-"] {
    font-style: normal;
    font-size: 1rem;
    line-height: 1;
  }

  &:hover:not(.disabled) {
    background: v.color(bg-alt); // #F1F4F1
    border-color: v.color(green-300);
    transform: translateY(-1px);
  }

  &:focus-visible {
    @include m.focused();
    z-index: 1;
  }

  &.active {
    background: v.color(primary); // #728F70
    border-color: v.color(primary);
    color: v.color(text-light); // #FFFFFF
    font-weight: 600;
    font-family: 'Poiret One';
  }

  &.disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background: v.color(bg-alt);
    color: v.color(text-muted);
    transform: none;
    box-shadow: none;
  }

  /* Ajuste para Tablet: botones más grandes */
  @include m.tablet-up() {
    height: $btn-size-desktop;
    min-width: $btn-size-desktop;
    padding: v.$spacing-sm; // 8px
  }
}

.pagination__ellipsis {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: $btn-size-mobile;
  min-width: $btn-size-mobile;
  padding: v.$spacing-xs;
  color: v.color(text-muted);
  font-weight: 500;
  font-family: v.$font-family-secondary; // Aseguramos sans-serif

  @include m.tablet-up() {
    height: $btn-size-desktop;
    min-width: $btn-size-desktop;
    padding: v.$spacing-sm;
  }
}

/* --- 3. Bloque: Selector de Tamaño --- */
.page-size-selector {
  display: flex;
  align-items: center;
  justify-content: center; // Centrado en mobile
  gap: v.$spacing-sm; // 8px


  @include m.desktop-up() {
     justify-content: flex-end;
     margin-right:160px;
  }
}

.page-size-selector__label {
  color: v.color(text-muted);
  font-weight: 500;
  white-space: nowrap;
  font-size: v.$font-size-sm;
}

.page-size-selector__select {
  padding: v.$spacing-sm v.$spacing-xs;
  border: 1px solid v.color(green-200);
  border-radius: v.$borderRadius; // 12px (para coincidir)
  background: v.color(surface);
  color: v.color(text-dark);
  font-size: v.$font-size-sm;
  font-weight: 500;
  cursor: pointer;
  transition: border-color v.$transitionDuration, box-shadow v.$transitionDuration;

  /* Ajuste de altura para alinear con botones en desktop */
  @include m.tablet-up() {
    height: $btn-size-desktop; // 40px
  }

  // Usa tu mixin de SASS para el foco
  &:focus-visible {
    @include m.focused();
    --focus-ring: 0 0 0 3px #{v.color(secondary)};
  }
}
